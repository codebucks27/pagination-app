{"ast":null,"code":"var _jsxFileName = \"D:\\\\Open source\\\\pagination-app\\\\src\\\\components\\\\Animals.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { usePaginatedQuery, useQuery } from 'react-query';\nimport Animal from './Animal';\n\nconst fetchAnimals = async (key, page) => {\n  const headers = {\n    'app-id': '628cfd76d7c13ab387fde193'\n  }; // GET request to get data\n\n  const res = await fetch(`https://dummyapi.io/data/v1/post?limit=10&page=${page}`, {\n    headers\n  });\n  return res.json();\n};\n\nconst Animals = () => {\n  _s();\n\n  const [page, setPage] = useState(1);\n  const {\n    resolvedData,\n    latestData,\n    status\n  } = usePaginatedQuery(['animals', page], fetchAnimals);\n  console.log(latestData);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 5\n    }\n  }, status === 'loading' && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 9\n    }\n  }, \"Loading data\"), status === 'error' && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }\n  }, \"Error fetching data\"), status === 'success' && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bg-gray-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }\n  }, \"Animals\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"max-w-2xl mx-auto py-16 sm:py-24 lg:py-32 lg:max-w-none\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"text-2xl font-extrabold text-gray-900\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 19\n    }\n  }, \"Collections\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-6 space-y-12 lg:space-y-0 lg:grid lg:grid-cols-3 lg:gap-x-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 19\n    }\n  }, resolvedData.data.map(animal => /*#__PURE__*/React.createElement(Animal, {\n    key: animal,\n    animal: animal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 57\n    }\n  }))), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\",\n    onClick: () => setPage(old => Math.max(old - 1, 1)),\n    disabled: page === 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 19\n    }\n  }, \"Previous Page\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }, page), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\",\n    onClick: () => setPage(old => !latestData || !latestData.next ? old : old + 1),\n    disabled: !latestData || !latestData.next,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }, \"Next page\"))))));\n};\n\n_s(Animals, \"UNvlu/p3freKi8WLHn5wZOpTgYw=\", false, function () {\n  return [usePaginatedQuery];\n});\n\n_c = Animals;\nexport default Animals;\n\nvar _c;\n\n$RefreshReg$(_c, \"Animals\");","map":{"version":3,"names":["React","useState","usePaginatedQuery","useQuery","Animal","fetchAnimals","key","page","headers","res","fetch","json","Animals","setPage","resolvedData","latestData","status","console","log","data","map","animal","old","Math","max","next"],"sources":["D:/Open source/pagination-app/src/components/Animals.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { usePaginatedQuery, useQuery } from 'react-query';\r\nimport Animal from './Animal';\r\n\r\nconst fetchAnimals = async (key, page) => {\r\n  const headers = { 'app-id': '628cfd76d7c13ab387fde193' }\r\n  // GET request to get data\r\n  const res = await fetch(`https://dummyapi.io/data/v1/post?limit=10&page=${page}`, { headers } );\r\n    return res.json();\r\n}\r\n\r\n\r\nconst Animals = () => {\r\n  const [ page, setPage ] = useState(1);\r\n  const { \r\n    resolvedData, \r\n    latestData, \r\n    status \r\n  } = usePaginatedQuery(['animals', page], fetchAnimals);\r\n  console.log(latestData)\r\n  return (\r\n    <div>\r\n    \r\n\r\n      {status === 'loading' && (\r\n        <div>Loading data</div>\r\n      )}\r\n\r\n      {status === 'error' && (\r\n        <div>Error fetching data</div>\r\n      )}\r\n\r\n      {status === 'success' && (\r\n        <>\r\n      \r\n          <div className=\"bg-gray-100\">\r\n            <h2>Animals</h2>\r\n              <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n                <div className=\"max-w-2xl mx-auto py-16 sm:py-24 lg:py-32 lg:max-w-none\">\r\n                  <h2 className=\"text-2xl font-extrabold text-gray-900\">Collections</h2>\r\n                  <div className=\"mt-6 space-y-12 lg:space-y-0 lg:grid lg:grid-cols-3 lg:gap-x-6\">\r\n                      { resolvedData.data.map(animal => <Animal key={animal} animal={animal} /> ) }\r\n                      {/* { resolvedData.data.map(animal => <span key={animal.id}>{animal.owner.firstName}</span> ) } */}\r\n\r\n                  </div>\r\n                  <button className='bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded' \r\n            onClick={() => setPage(old => Math.max(old - 1, 1))} \r\n            disabled={page === 1}>\r\n            Previous Page\r\n          </button>\r\n          <span>{ page }</span>\r\n          <button className='bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded'\r\n            onClick={() => setPage(old => (!latestData || !latestData.next ? old : old + 1))} \r\n            disabled={!latestData || !latestData.next}>\r\n            Next page\r\n          </button>\r\n                </div>\r\n              </div>\r\n            </div>          \r\n        </>\r\n      )} \r\n    </div>\r\n  );\r\n}\r\n \r\nexport default Animals;"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,iBAAT,EAA4BC,QAA5B,QAA4C,aAA5C;AACA,OAAOC,MAAP,MAAmB,UAAnB;;AAEA,MAAMC,YAAY,GAAG,OAAOC,GAAP,EAAYC,IAAZ,KAAqB;EACxC,MAAMC,OAAO,GAAG;IAAE,UAAU;EAAZ,CAAhB,CADwC,CAExC;;EACA,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAE,kDAAiDH,IAAK,EAAxD,EAA2D;IAAEC;EAAF,CAA3D,CAAvB;EACE,OAAOC,GAAG,CAACE,IAAJ,EAAP;AACH,CALD;;AAQA,MAAMC,OAAO,GAAG,MAAM;EAAA;;EACpB,MAAM,CAAEL,IAAF,EAAQM,OAAR,IAAoBZ,QAAQ,CAAC,CAAD,CAAlC;EACA,MAAM;IACJa,YADI;IAEJC,UAFI;IAGJC;EAHI,IAIFd,iBAAiB,CAAC,CAAC,SAAD,EAAYK,IAAZ,CAAD,EAAoBF,YAApB,CAJrB;EAKAY,OAAO,CAACC,GAAR,CAAYH,UAAZ;EACA,oBACE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAGGC,MAAM,KAAK,SAAX,iBACC;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,kBAJJ,EAOGA,MAAM,KAAK,OAAX,iBACC;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,yBARJ,EAWGA,MAAM,KAAK,SAAX,iBACC,uDAEE;IAAK,SAAS,EAAC,aAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,aADF,eAEI;IAAK,SAAS,EAAC,wCAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE;IAAK,SAAS,EAAC,yDAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE;IAAI,SAAS,EAAC,uCAAd;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,iBADF,eAEE;IAAK,SAAS,EAAC,gEAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACMF,YAAY,CAACK,IAAb,CAAkBC,GAAlB,CAAsBC,MAAM,iBAAI,oBAAC,MAAD;IAAQ,GAAG,EAAEA,MAAb;IAAqB,MAAM,EAAEA,MAA7B;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAhC,CADN,CAFF,eAOE;IAAQ,SAAS,EAAC,sEAAlB;IACN,OAAO,EAAE,MAAMR,OAAO,CAACS,GAAG,IAAIC,IAAI,CAACC,GAAL,CAASF,GAAG,GAAG,CAAf,EAAkB,CAAlB,CAAR,CADhB;IAEN,QAAQ,EAAEf,IAAI,KAAK,CAFb;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,mBAPF,eAYN;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAQA,IAAR,CAZM,eAaN;IAAQ,SAAS,EAAC,sEAAlB;IACE,OAAO,EAAE,MAAMM,OAAO,CAACS,GAAG,IAAK,CAACP,UAAD,IAAe,CAACA,UAAU,CAACU,IAA3B,GAAkCH,GAAlC,GAAwCA,GAAG,GAAG,CAAvD,CADxB;IAEE,QAAQ,EAAE,CAACP,UAAD,IAAe,CAACA,UAAU,CAACU,IAFvC;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,eAbM,CADF,CAFJ,CAFF,CAZJ,CADF;AA2CD,CAnDD;;GAAMb,O;UAMAV,iB;;;KANAU,O;AAqDN,eAAeA,OAAf"},"metadata":{},"sourceType":"module"}